<link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">

<div class="header-wrapper">
    <header>
        <div class="site-title">
            <button class="menu-button" id="menu-button" onclick="toggleMenu()"></button>
            <img src="{{ url_for('static', filename='imgs/logo.png')}}" alt="" class="logo" style="left: -40px; position: relative">
            <a href="{{ url_for('index') }}" style="left: -40px; position: relative">{{ g.site_title }}</a>
            <sub style="left: -40px; position: relative">{{ g.version_number }}</sub>
        </div>
    </header>
    <div class="nav-dropdown-container" id="navdropdown">
        {% for category_name, route_name in g.categories.items() %}
            <button class="nav-button" onclick="loadPage('{{ url_for(route_name) }}')">{{ category_name }}</button>
        {% endfor %}
    </div>
</div>

<script>
    let turn = 0;

    function toggleMenu() {
        const menu = document.getElementById("navdropdown");
        menu.classList.toggle("show");

        const menuButton = document.getElementById('menu-button');
        menuButton.style.transition = 'transform 0.3s ease';
        if (turn === 90) {
            turn -= 90
        } else {
            turn += 90
        }
        menuButton.style.transform = `rotate(${turn}deg)`;
    }

    function loadPage(url) {
        window.location.href = url;
    }
</script>